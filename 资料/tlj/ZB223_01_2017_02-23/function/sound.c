#define 	SOUND_C
#include	"sound.h"
//ÉùÒô±¨¾¯¿É·ÖÎªÒÔÏÂ¼¸Àà£º
//Ò»¡¢Í¼±êÀà±¨¾¯
//¶þ¡¢¸ºÔØ¿ªÂ·¶ÌÂ·±¨¾¯
//ÁíÍâ,ÉùÒô»¹ÓÐ×ó×ª¡¢ÓÒ×ª¡¢Ë«ÉÁÀàÉùÒô¡£  ÐéÄâÊä³öÀà±¨¾¯£¬±ÈÈç¡¢ÃÅÎ´¹Ø±¨¾¯¡£
//ÎÞÄ£¿é±¨¾¯ÉùÒô¡¢ÓÍÁ¿¡¢»úÓÍÑ¹Á¦±¨¾¯¡¢³µËÙ±¨¾¯¡¢×ªËÙ±¨¾¯¡¢ÆøÑ¹±¨¾¯µÈµÈ   ÎÞ¸ßCAN±¨¾¯


//ÉùÒô±¨¾¯Ö®Í¼±êÀàÅäÖÃ£ºÒÇ±í±íÅÌÉÏLED¼°LCDÉÏÍ¼±ê±¨¾¯¡£
//ÓÐÐ©Í¼±êÎª±¨¾¯Ö¸Ê¾Í¼±ê£¬ÓÃÁ½¸öÎ»À´ÅäÖÃÒ»¸öÍ¼±êÏàÓ¦ÎªÄÄÒ»ÖÖ±¨¾¯ÀàÐÍ¡£
//0b00: ÎÞ±¨¾¯
//0b01: Ò»¼¶³¤Ïì±¨¾¯
//0b10: ¶þ¼¶Âö³å±¨¾¯
//0b11: ÏÂ¿ÍÃÅ±¨¾¯Éù
//Çý¶¯ ²ÉÓÃÏÂ½µÑØ²É¼¯¡£
/****************************************************************************************************
Í¼±ê±¨¾¯£ºÎª°åÉÏ16¸öLEDÖ¸Ê¾µÆ + °åÉÏ8¸öLEDÖ¸Ê¾µÆ + 24¸öLCDÖ¸Ê¾µÆ + 2¸öÊ×Ò³±¨¾¯Ö¸Ê¾µÆ = 50¸öÖ¸Ê¾µÆ
ÓÃÒ»¸ö×Ö½ÚÀ´±íÊ¾Ã¿¸öÖ¸Ê¾µÆ±¨¾¯×´Ì¬¡£
bit.1_0==11 -> ¸Ã±¨¾¯ÎªÉùÒô+ÎÄ×Ö±¨¾¯
bit.1_0==01 -> ¸Ã±¨¾¯ÎªÉùÒô±¨¾¯
bit.1_0==10 -> ¸Ã±¨¾¯ÎªÎÄ×Ö±¨¾¯
bit.1_0==00 -> ÎÞÈÎºÎ±¨¾¯
****************************************************************************************************/

//#pragma CONST_SEG    DEFAULT
//#pragma CODE_SEG  USER_ROM
UINT8 BackDriveLoadsSound[3];
UINT8 Gear2SondCnt;
UINT8 Gear3SondCnt;
UINT8 DashboardLoadsSound[2];
UINT8 OldDashboardLoadsSound;
UINT8 FrontDriveLoadsSound[3];
UINT8 OldFrontDriveLoadsSound[3];
UINT8 BackDriveLoadsSound[3];
UINT8 OldBackDriveLoadsSound[3];
UINT8 MiddleDriveLoadsSound[3];
UINT8 OldMiddleDriveLoadsSound[3];
UINT8 TopDriveLoadsSound[3];
UINT8 OldTopDriveLoadsSound[3];
UINT8 PowerLoadsSound[3];
UINT8 PowerLoadsFuse[3];

UINT8 PowerContorolLoadSound[3];
UINT8 OldPowerLoadsSound[3];
UINT8 J1939FaultSoundWarn;
UINT16 Cat4016DataOld;

UINT8  Gear1Warn[20];
UINT8  OldGear1Warn[20];
UINT8  ComGear1Warn[20];
UINT8  Gear2Warn[20];
UINT8  OldGear2Warn[20];
UINT8  ComGear2Warn[20];
UINT8  Gear3Warn[20];
UINT8  OldGear3Warn[20];
UINT8  ComGear3Warn[20];
UINT8  Gear4Warn[20];
UINT8  OldGear4Warn[20];
UINT8  ComGear4Warn[20]; 
UINT8  SensorFaultSound[6];
UINT8  OldSensorFaultSound[6];
UINT8  ComSensorFaultSound[6];
UINT8  ModuleErrorFlagWarn;
UINT8  OldModuleErrorFlagWarn;
UINT8  ComModuleErrorFlagWarn;

UINT8 IndicatorLed[20];
UINT8 IndicatorOldLed[20];



UINT8 Gear2SondCnt;
UINT8 Gear3SondCnt;
UINT8 Gear4SondCnt;
//UINT8 LcdWarm;
//UINT8 OldLcdWarm;

/***************************************************************************************************
º¯ÊýÃû£ºvoid getIcoWarn(UINT8 baseFaultCode)
¹¦ÄÜ£º´¦ÀíÍ¼±ê±¨¾¯
²ÎÊýËµÃ÷£ºUINT8 baseFaultCode -> ¹ÊÕÏÂë»ùÖµ
***************************************************************************************************/
void getIcoWarn(void)
{
	UINT8 i;
	UINT8 type;
	UINT8 row;
	UINT8 line;   
	for(i=0;i<19;i++)    IndicatorLed[i] = LoadLogicResult[i+1].Load;// lcd1~8

	for(i=0;i<160;i++)   //88 75 56       
	{
		if(IcoWarnConfig.DashboardIcoWarn[i]==0) continue;//add by L:ÉÏÎ»»ú²¹0
		row = i / 0x08;
		line = i % 0x08;
		type = IcoWarnConfig.DashboardIcoWarn[i] >>4;    
		if((type&0x08)==0)          //ÉùÒô±¨¾¯
		{
			type&=0x07;
			if(IndicatorLed[row] & (0x01 << line))
			{
				switch(type)
				{
					case 0x01: Gear1Warn[row] |= 0x01 << line;break;
					case 0x02: Gear2Warn[row] |= 0x01 << line;break;
					case 0x03: Gear3Warn[row] |= 0x01 << line;break;
					case 0x04: Gear4Warn[row] |= 0x01 << line;break;
					default:break;                        
				}
			}
			else
			{
				switch(type)
				{
					case 0x01: Gear1Warn[row] &= ~(0x01 << line);break;
					case 0x02: Gear2Warn[row] &= ~(0x01 << line);break;
					case 0x03: Gear3Warn[row] &= ~(0x01 << line);break;
					case 0x04: Gear4Warn[row] &= ~(0x01 << line);break;
					default:break;                              
				}                 
			}

		}
		
		type = IcoWarnConfig.DashboardIcoWarn[i]&0x0f;    //Í¼ÎÄ×Ö±¨¾¯
		if((type&0x08)==0)          
		{
			LoadWarnCnt++;
			if((IndicatorLed[row] & (0x01 << line)) != (IndicatorOldLed[row] & (0x01 << line)))
			{
				if(IndicatorLed[row] & (0x01 << line))
				{  
					push_dis(LoadWarnCnt);
				}
				else
				{
					pop_dis(LoadWarnCnt);
				}           
			}
		}
	}
	
	for(i=0;i<20;i++)
	{
		IndicatorOldLed[i] = IndicatorLed[i];
	}
}


/************************************************************************************************
º¯ÊýÃû£ºvoid sound(void)
¹¦ÄÜ£º×Ü»ãÉùÒô±¨¾¯±äÁ¿
1¡¢Í¼±ê±¨¾¯ÉùÒô
2¡¢¸ºÔØ¿ªÂ·¶ÌÂ·±¨¾¯ÉùÒô
3¡¢¶ª¸ßCAN±¨¾¯
4¡¢¶ªÄ£¿é±¨¾¯
5¡¢´«¸ÐÆ÷¹ÊÕÏ±¨¾¯
************************************************************************************************/
void sound(void)
{
	loadOpenOrShortSoundWarn(&USR_s_OV.DashboardLoad[0].Data,&DashboardLoadsSound[0],4);       //ÒÇ±í¸ºÔØ¿ªÂ·¶ÌÂ·ÉùÒô¡£
	loadOpenOrShortSoundWarn(&USR_s_OV.FrontDriveLoad[0].Data,FrontDriveLoadsSound,20);  //Ç°Çý¸ºÔØ¿ªÂ·¶ÌÂ·ÉùÒô¡£
	loadOpenOrShortSoundWarn(&USR_s_OV.BackDriveLoad[0].Data,BackDriveLoadsSound,20);    //ºóÇý¸ºÔØ¿ªÂ·¶ÌÂ·ÉùÒô¡£
	//loadOpenOrShortSoundWarn(&USR_s_OV.MiddleDriveLoad[0].Data,MiddleDriveLoadsSound,18);//ÖÐÇý¸ºÔØ¿ªÂ·¶ÌÂ·ÉùÒô¡£
	loadOpenOrShortSoundWarn(&USR_s_OV.TopDriveLoad[0].Data,TopDriveLoadsSound,20);      //¶¥Çý¸ºÔØ¿ªÂ·¶ÌÂ·ÉùÒô¡

	if(SysConfigData.selectPowerCtr==1) 
	{ 
		loadOpenOrShortSoundWarn(&USR_s_OV.PowerFuse[0].Data,PowerLoadsFuse,20);  
	}
	else
	{
		loadOpenOrShortSoundWarn(&USR_s_OV.PowerLoadState[0].Data,PowerLoadsSound,20);       //Åäµç¸ºÔØ¿ªÂ·¶ÌÂ·ÉùÒô¡£
		loadOpenOrShortSoundWarn(&USR_s_OV.PowerFuse[0].Data,PowerLoadsFuse,17); 
	}
 
	loadOpenOrShortSoundWarn(&USR_s_OV.PowerContorolLoadState[0].Data,PowerContorolLoadSound,16);                                                                    
	sensorFaultSound();
}  
/**********************************************************************************************
º¯ÊýÃû£ºvoid loadOpenOrShortSoundWarn(UINT8 *pLoadStatus,UINT8 *pSoundWarn,UINT8 len)
¹¦ÄÜ£º°Ñ¸ºÔØ±¨¾¯×´Ì¬×ª»¯ÎªÉùÒô±¨¾¯¡£
²ÎÊýËµÃ÷£ºUINT8 *pLoadStatus -> ¸ºÔØ×´Ì¬
          UINT8 *pSoundWarn -> ¸ºÔØÉùÒô±¨¾¯Ö¸Ê¾
          UINT8 len -> ¸ºÔØ×´Ì¬³¤¶È
·µ»ØÖµ£ºUINT8 *pSoundWarn

* note by ap ,2016/3/25
* @brief:		
* @parameter	*pLoadStatus ¸ºÔØ×´Ì¬£¬Á½Î»±íÊ¾
*						0x01 is short circuit,0x02 is open circuit
*				pSoundWarn Êä³öÁ¿¡£Ò»Î»±íÊ¾
*				len ¸ºÔØ¸öÊý
**********************************************************************************************/
void loadOpenOrShortSoundWarn(UINT8 *pLoadStatus,UINT8 *pSoundWarn,UINT8 len)
{
    UINT8 i;
    UINT8 srcRow,srcLine;
    UINT8 warnRow,warnLine;
    UINT8 temp;
	
    for(i=0;i<len;i++)
    {
        srcRow = i/0x04;
        srcLine = i%0x04;
        warnRow = i/0x08;
        warnLine = i%0x08;
        temp = pLoadStatus[srcRow] >> (srcLine * 0x02);
        temp &= 0x03;
        if(temp == LOAD_OPEN || temp == LOAD_SHORT)
        {
            pSoundWarn[warnRow] |= 0x01 << warnLine;
        }
        else
        {
            pSoundWarn[warnRow] &= ~(0x01 << warnLine);
        }
    }    
}
/************************************************************************************************
º¯ÊýÃû£ºvoid sensorFaultSound(void)
¹¦ÄÜ£º´¦Àí´«¸ÐÆ÷¹ÊÕÏÉùÒô
************************************************************************************************/
void sensorFaultSound(void)
{
	UINT8 i;
	UINT8 row,line;
	UINT8 type;
	for(i=0;i<6;i++)     //ÒÇ±í    6
	{
		row = i / 0x08;
		line = i % 0x08;
		type = IcoWarnConfig.DashSensorIcoWarn[i] >>4; 
		if((type&0x08)==0)          //ÉùÒô±¨¾¯
		{
			if(InsideData[i] == 0xfffe)
			{
				SensorFaultSound[row] |= (0x01 << line);
			}
			else
			{
				SensorFaultSound[row] &= ~(0x01 << line);
			}  
		}

	}
	for(i=6;i<14;i++)   //Ç°Çý
	{
		row = i / 0x08;
		line = i % 0x08;
		type = IcoWarnConfig.FrontSensorIcoWarn[i-6] >>4; 
		if((type&0x08)==0)          //ÉùÒô±¨¾¯
		{
			if(InsideData[FRONT_INSIDE_OFFSET+i-6] == 0xfffe)
			{
				SensorFaultSound[row] |= (0x01 << line);
			}
			else
			{
				SensorFaultSound[row] &= ~(0x01 << line);
			} 
		}
	}
	for(i=14;i<22;i++)   //ºóÇý
	{
		row = i / 0x08;
		line = i % 0x08;
		type = IcoWarnConfig.BackSensorIcoWarn[i-14] >>4; 
		if((type&0x08)==0)          //ÉùÒô±¨¾¯
		{
			if(InsideData[BACK_INSIDE_OFFSET+i-14] == 0xfffe)
			{
				SensorFaultSound[row] |= (0x01 << line);
			}
			else
			{
				SensorFaultSound[row] &= ~(0x01 << line);
			} 
		}
	}
	for(i=22;i<30;i++)   //ÖÐ
	{
		row = i / 0x08;
		line = i % 0x08;
		type = IcoWarnConfig.MiddleSensorIcoWarn[i-22] >>4; 
		if((type&0x08)==0)          //ÉùÒô±¨¾¯
		{
			if(InsideData[MIDDLE_INSIDE_OFFSET+i-22] == 0xfffe)
			{
				SensorFaultSound[row] |= (0x01 << line);
			}
			else
			{
				SensorFaultSound[row] &= ~(0x01 << line);
			} 
		}
	}

	for(i=30;i<38;i++)   //¶¥Çý
	{
		row = i / 0x08;
		line = i % 0x08;
		type = IcoWarnConfig.TopSensorIcoWarn[i-30] >>4; 
		if((type&0x08)==0)          //ÉùÒô±¨¾¯
		{
			if(InsideData[TOP_INSIDE_OFFSET+i-30] == 0xfffe)
			{
				SensorFaultSound[row] |= (0x01 << line);
			}
			else
			{
				SensorFaultSound[row] &= ~(0x01 << line);//38Â·
			}  
		}
	}
	for(i=38;i<41;i++) 
	{
		row = i / 0x08;
		line = i % 0x08;
		type = IcoWarnConfig.PowerContorolSensorIcoWarn[i-38] >>4; 
		if((type&0x08)==0)          //ÉùÒô±¨¾¯
		{
			if(InsideData[POWER_CONTOROL_OFFSET+i-38] == 0xfffe)
			{
				SensorFaultSound[row] |= (0x01 << line);
			}
			else
			{
				SensorFaultSound[row] &= ~(0x01 << line);//38Â·
			}  
		}
	}
}

/**************************************************************************************************
º¯ÊýÃû£ºvoid renewSound(void)
¹¦ÄÜ£º»Ö¸´ÉùÒô
**************************************************************************************************/
void renewSound(void)
{
	UINT8 soundF;
	
	soundF = 0;
	FeedWatchDog();
	ModuleErrorFlagWarn  = ModuleErrorFlag.Byte;
	soundF |= sound_byte_compare(Gear1Warn,ComGear1Warn,sizeof(Gear1Warn)); 
	if(!soundF) 
	{
		soundF |= sound_byte_compare(Gear2Warn,ComGear2Warn,sizeof(Gear2Warn));
		if(!soundF) 
		{ 
			soundF |= sound_byte_compare(Gear3Warn,ComGear3Warn,sizeof(Gear3Warn));
			if(!soundF) 
			{  
				soundF |= sound_byte_compare(Gear4Warn,ComGear4Warn,sizeof(Gear4Warn)); 
				if(!soundF) 
				{ 
					soundF |= sound_byte_compare(SensorFaultSound,ComSensorFaultSound,sizeof(SensorFaultSound)); 
					if(!soundF) 
					{  
						soundF |= sound_byte_compare(&ModuleErrorFlagWarn,&ComModuleErrorFlagWarn,1);  
					}
				}
			}
		}
	}

	if(soundF) 
	{
		CopyDataSound(Gear1Warn,ComGear1Warn,sizeof(Gear1Warn)); 
		CopyDataSound(Gear2Warn,ComGear2Warn,sizeof(Gear2Warn)); 
		CopyDataSound(Gear3Warn,ComGear3Warn,sizeof(Gear3Warn)); 
		CopyDataSound(Gear4Warn,ComGear4Warn,sizeof(Gear4Warn)); 
		CopyDataSound(SensorFaultSound,ComSensorFaultSound,sizeof(SensorFaultSound)); 
		CopyDataSound(&ModuleErrorFlagWarn,&ComModuleErrorFlagWarn,1); 
		MUTE_SOUNDS_F = 0;
		GEAR_SOUND_OFF_F = 1;       
	}

	if(MUTE_SOUNDS_KEY) //ap ¾²Òô
	{
		CopyDataSound(Gear1Warn,OldGear1Warn,sizeof(Gear1Warn)); 
		CopyDataSound(Gear2Warn,OldGear2Warn,sizeof(Gear2Warn)); 
		CopyDataSound(Gear3Warn,OldGear3Warn,sizeof(Gear3Warn)); 
		CopyDataSound(Gear4Warn,OldGear4Warn,sizeof(Gear4Warn)); 
		CopyDataSound(SensorFaultSound,OldSensorFaultSound,sizeof(SensorFaultSound)); 
		CopyDataSound(&ModuleErrorFlagWarn,&OldModuleErrorFlagWarn,1); 
		MUTE_SOUNDS_KEY = 0;
		MUTE_SOUNDS_F = 1;
	}   
}

/***************************************************************************************************
º¯ÊýÃû£ºsound_byte_compare(UINT8 *newSt UINT8 *oldSt UINT8 len) 
¹¦ÄÜ£º´¦ÀíÍ¼±ê±¨¾¯
²ÎÊýËµÃ÷£ºUINT8 baseFaultCode -> ¹ÊÕÏÂë»ùÖµ
* note by ap,2016/3/25
* @return		1 Æô¶¯
***************************************************************************************************/
UINT8 sound_byte_compare(UINT8 *newSt,UINT8 *oldSt,UINT8 len) 
{
    UINT8 i,j;
    UINT8 newTemp,oldTemp;
    UINT8 reSt;

	reSt = 0;  
    for(i=0;i<len;i++) 
	{
		if(newSt[i] == oldSt[i])  continue;
		for(j=0;j<8;j++) 
		{
			newTemp = newSt[i]&(1<<j);
			oldTemp = oldSt[i]&(1<<j);
			if(newTemp > oldTemp) //(newTemp==1,oldTemp==0
			{
				reSt = 1;  
			} 
			else if(oldTemp > newTemp) 
			{
				oldSt[i] &= (~(1<<j));
			}
		}  
	}
    return   reSt;
}

void  CopyDataSound(UINT8 *pScr,UINT8 *pDst,UINT8 cnt) 
{
    UINT8 i;
    for(i=0;i<cnt;i++)
    {
        pDst[i] = pScr[i];
    }
}  





/************************************************************************************************
º¯ÊýÃû£ºUINT8 doLoadOpenShortSound(void)
************************************************************************************************/
UINT8 do1GearSound(void)
{
    BOOLEAN soundF=0;
    ModuleErrorFlagWarn  = ModuleErrorFlag.Byte;
    soundF |= sound_byte_compare(Gear1Warn,OldGear1Warn,sizeof(Gear1Warn)); 
    soundF |= sound_byte_compare(SensorFaultSound,OldSensorFaultSound,sizeof(SensorFaultSound)); 
    soundF |= sound_byte_compare(&ModuleErrorFlagWarn,&OldModuleErrorFlagWarn,1); 
    if(ACC_LOAD&&GEAR_SOUND_OFF_F)
    {  
        if(soundF && !MUTE_SOUNDS_F&& !GEAR_SOUND_LOAD)
        {
            SetBuzzer;
        }
        else
        {
            BuzzerOff;
        }
    }
    return (UINT8)(soundF);  
}
/************************************************************************************************************************
º¯ÊýÃû£ºUINT8 do2GearSound(void)
¹¦ÄÜ£º´¦Àí¶þ¼¶ÉùÒô
************************************************************************************************************************/
UINT8 do2GearSound(void)
{
    BOOLEAN soundF=0; 
    soundF |= sound_byte_compare(Gear2Warn,OldGear2Warn,sizeof(Gear2Warn)); 
    if(soundF)
    {
       Gear2SondCnt++;
       if(Gear2SondCnt >= 50)       //500ms
       {
           Gear2SondCnt = 0x00;
       }
    }
    else
    {
        return 0;
    }
    if((soundF != OLD_2_GEAR_SOUND_F))
    {
        Gear2SondCnt = 0x00;
        OLD_2_GEAR_SOUND_F = soundF;
    }
    if(ACC_LOAD&&GEAR_SOUND_OFF_F)
    {  
        if(soundF)
        {
            if((Gear2SondCnt/25 == 0x00)&&!MUTE_SOUNDS_F&&!GEAR_SOUND_LOAD)
            {
              SetBuzzer; 
            }
            else
            {
               BuzzerOff;
            }
        }
        else
        {
              BuzzerOff;
        }
    }
    return (UINT8)soundF;
}
/************************************************************************************************************************
º¯ÊýÃû£ºUINT8 do2GearSound(void)
¹¦ÄÜ£º´¦Àí¶þ¼¶ÉùÒô
************************************************************************************************************************/
UINT8 do3GearSound(void)
{
    BOOLEAN soundF=0;
    soundF |= sound_byte_compare(Gear3Warn,OldGear3Warn,sizeof(Gear3Warn)); 
    if(soundF)
    {
       Gear3SondCnt++;
       if(Gear3SondCnt >= 25)
       {
           Gear3SondCnt = 0x00;
       }
    }
    else
    {
        return 0;
    }
    if((soundF != OLD_3_GEAR_SOUND_F))
    {
        Gear3SondCnt = 0x00;
        OLD_3_GEAR_SOUND_F = soundF;
    }
    if(ACC_LOAD&&GEAR_SOUND_OFF_F)
    {  
        if(soundF)
        {
            if((Gear3SondCnt/12 == 0x00)&&!MUTE_SOUNDS_F)
            {
               SetBuzzer;
            }
            else
            {
               BuzzerOff;
            }
        }
        else
        {
              BuzzerOff;
        }
    }
    return (UINT8)soundF;    
}


/************************************************************************************************************************
º¯ÊýÃû£ºUINT8 do2GearSound(void)
¹¦ÄÜ£º´¦Àí¶þ¼¶ÉùÒô
************************************************************************************************************************/
UINT8 do4GearSound(void)
{
    BOOLEAN soundF=0;
    soundF |= sound_byte_compare(Gear4Warn,OldGear4Warn,sizeof(Gear4Warn)); 
    if(soundF)
    {
       Gear4SondCnt++;
       if(Gear4SondCnt >= 15)     //250ms
       {
           Gear4SondCnt = 0x00;
       }
    }
    else
    {
        return 0;
    }
    if((soundF != OLD_4_GEAR_SOUND_F))
    {
        Gear4SondCnt = 0x00;
        OLD_4_GEAR_SOUND_F = soundF;
    }
    if(ACC_LOAD&&GEAR_SOUND_OFF_F)
    {  
        if(soundF)
        {
            if((Gear4SondCnt/7 == 0x00)&&!MUTE_SOUNDS_F)
            {
               SetBuzzer;
            }
            else
            {
               BuzzerOff;
            }
        }
        else
        {
              BuzzerOff;
        }
    }
    return (UINT8)soundF;    
}

void BuzzerOut(UINT8 mode,UINT8 on_flag)
{                
	switch(mode)
	{
		case 1: 
			if(BUZZER_FLAG) 
			{
				if(!SleepFlag)
					SetBuzzerDb;
				else
					BuzzerOffDb;
                                if(USR_s_DeviceConfigData.BuzzerLevel==1)  LEVEL3_H;
                                else  LEVEL3_L;
                                if(USR_s_DeviceConfigData.BuzzerLevel==2)  LEVEL2_H;
                                else  LEVEL2_L;
                                if(USR_s_DeviceConfigData.BuzzerLevel==3)  LEVEL1_H;
                                else  LEVEL1_L;       
			}
			else 
			{
                                LEVEL1_L;
                                LEVEL2_L;
                                LEVEL3_L;    
				BuzzerOffDb;
	
			}      
			break;
		case 4: 

                                LEVEL1_L;
                                LEVEL2_L;
                                LEVEL3_L;
			        BuzzerOffDb;
			break;

	}; 
}

